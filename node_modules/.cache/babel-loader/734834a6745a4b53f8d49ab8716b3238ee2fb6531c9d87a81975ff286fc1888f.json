{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valenrach\\\\fsweb-s11g2-client-auth-friends\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nconst AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    push\n  } = useHistory();\n  const [authInfo, setAuthInfo] = useLocalStorage(\"s11g2\", {});\n  const logout = () => {\n    setAuthInfo({});\n    push(\"/login\");\n  };\n  const login = credentials => {\n    axios.post(\"http://localhost:9000/api/login\", credentials).then(res => setAuthInfo(res.data)).catch(err => console.log(err));\n  };\n  const isLoggedIn = authInfo && authInfo.token;\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      authInfo,\n      login,\n      logout,\n      isLoggedIn\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthContextProvider, \"OJMGpNX4+vSCbNaN2jEOTEo+JCc=\", false, function () {\n  return [useHistory, useLocalStorage];\n});\n_c = AuthContextProvider;\nexport default AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useLocalStorage","useHistory","axios","jsxDEV","_jsxDEV","AuthContext","AuthContextProvider","_ref","_s","children","push","authInfo","setAuthInfo","logout","login","credentials","post","then","res","data","catch","err","console","log","isLoggedIn","token","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/valenrach/fsweb-s11g2-client-auth-friends/src/context/AuthContext.js"],"sourcesContent":["import { createContext } from \"react\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = ({ children }) => {\r\n  const { push } = useHistory();\r\n  const [authInfo, setAuthInfo] = useLocalStorage(\"s11g2\", {});\r\n\r\n  const logout = () => {\r\n    setAuthInfo({});\r\n    push(\"/login\");\r\n  };\r\n\r\n  const login = (credentials) => {\r\n    axios\r\n      .post(\"http://localhost:9000/api/login\", credentials)\r\n      .then((res) => setAuthInfo(res.data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const isLoggedIn = authInfo && authInfo.token;\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ authInfo, login, logout, isLoggedIn }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContextProvider;\r\n"],"mappings":";;AAAA,SAASA,aAAa,QAAQ,OAAO;AACrC,OAAOC,eAAe,MAAM,0BAA0B;AACtD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAE1C,MAAMO,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACvC,MAAM;IAAEG;EAAK,CAAC,GAAGT,UAAU,CAAC,CAAC;EAC7B,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;EAE5D,MAAMa,MAAM,GAAGA,CAAA,KAAM;IACnBD,WAAW,CAAC,CAAC,CAAC,CAAC;IACfF,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC;EAED,MAAMI,KAAK,GAAIC,WAAW,IAAK;IAC7Bb,KAAK,CACFc,IAAI,CAAC,iCAAiC,EAAED,WAAW,CAAC,CACpDE,IAAI,CAAEC,GAAG,IAAKN,WAAW,CAACM,GAAG,CAACC,IAAI,CAAC,CAAC,CACpCC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC,CAAC;EAED,MAAMG,UAAU,GAAGb,QAAQ,IAAIA,QAAQ,CAACc,KAAK;EAE7C,oBACErB,OAAA,CAACC,WAAW,CAACqB,QAAQ;IAACC,KAAK,EAAE;MAAEhB,QAAQ;MAAEG,KAAK;MAAED,MAAM;MAAEW;IAAW,CAAE;IAAAf,QAAA,EAClEA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACvB,EAAA,CAvBIF,mBAAmB;EAAA,QACNL,UAAU,EACKD,eAAe;AAAA;AAAAgC,EAAA,GAF3C1B,mBAAmB;AAyBzB,eAAeA,mBAAmB;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}